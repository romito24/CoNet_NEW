<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>יצירת אירוע | CoNet</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Bootstrap (רק לטפסים) -->
    <link
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
        rel="stylesheet"
    >

    <!-- Font -->
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap"
        rel="stylesheet"
    >

    <!-- CSS קיים -->
    <link rel="stylesheet" href="auth.css">
</head>

<body>

<div class="auth-wrapper">
  <div class="auth-container">

    <div class="auth-card">

        <h3 class="auth-heading">יצירת אירוע חדש</h3>
        <p class="auth-subtext">מלאי את פרטי האירוע</p>

        <form>

            <!-- שם האירוע -->
            <div class="mb-3">
                <label>שם האירוע</label>
                <input
                    type="text"
                    class="form-control"
                    placeholder="לדוגמה: מפגש קהילה שבועי"
                    required
                >
            </div>

            <!-- תאריך -->
            <div class="mb-3">
                <label>תאריך האירוע</label>
                <input
                    type="date"
                    class="form-control"
                    required
                >
            </div>

            <!-- שעות -->
            <div class="d-flex gap-3 mb-3">
                <div class="flex-fill">
                    <label>שעת התחלה</label>
                    <input
                        type="time"
                        class="form-control"
                        required
                    >
                </div>

                <div class="flex-fill">
                    <label>שעת סיום</label>
                    <input
                        type="time"
                        class="form-control"
                        required
                    >
                </div>
            </div>

            <!-- כמות משתתפים -->
            <div class="mb-4">
                <label>מספר משתתפים מקסימלי</label>
                <input
                    type="number"
                    class="form-control"
                    min="1"
                    placeholder="לדוגמה: 30"
                    required
                >
            </div>

            <!-- כפתור -->
            <button type="submit" class="auth-btn">
                יצירת אירוע
            </button>

        </form>

    </div>

  </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', async () => {
        // 1. שליפת הנתונים מהכתובת (URL)
        const params = new URLSearchParams(window.location.search);
        
        const spaceId = params.get('spaceId');
        const spaceName = params.get('spaceName');
        const spaceAddress = params.get('spaceAddress');

        // 2. הצגה מיידית של המידע
        if (spaceName) {
            // ודאי שיש לך אלמנט עם id="spaceName" בדף
            const nameEl = document.getElementById('spaceName');
            if (nameEl) nameEl.innerText = spaceName;
        }
        if (spaceAddress) {
            // ודאי שיש לך אלמנט עם id="spaceAddress" בדף
            const addrEl = document.getElementById('spaceAddress');
            if (addrEl) addrEl.innerText = spaceAddress;
        }

        // 3. ודאי שיש ID
        if (!spaceId) {
            alert("לא נבחר מרחב לאירוע");
            window.location.href = 'search.html';
        }
    });
</script>

</body>
</html>
